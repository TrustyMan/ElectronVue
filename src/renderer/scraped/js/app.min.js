'use strict'; function is_lang_rtl () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ''; return ['ar', 'arc', 'dv', 'fa', 'ha', 'he', 'khw', 'ks', 'ku', 'ps', 'yi', 'ur'].indexOf(t) !== -1 } function slugify (t) { return t.toString().toLowerCase().replace(/\s+/g, '-').replace(/[^\w\-]+/g, '').replace(/\-\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '') } function toTitleCase (t) { return t.replace(/\w\S*/g, function (t) { return t.charAt(0).toUpperCase() + t.substr(1).toLowerCase() }) } function tagify (t) { return (t = t.toString().replace(/_/g, ' ')).replace(/\s+/g, '-').replace(/[^\w\-]+/g, '').replace(/\-\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '') } function resizeMain () { var t = $(window).outerHeight(), e = $('.pg-header').outerHeight() + $('.pg-footer').outerHeight(), a = $('.pg-main'); $('.pg-header').length != 0 && $('.pg-main').length != 0 && $('.pg-footer').length != 0 && t > a.outerHeight() + e && a.css('min-height', t - e) } function twitchChannelStatus (t) { void 0 === t && t.length === 0 || $.each(t, function () { $.ajax({url: 'https://api.twitch.tv/kraken/streams/' + this + '?client_id=rxnyxbt0rwz00he7geavhwgc6wn4qv', dataType: 'json', success: function (t) { t.stream !== null && showTwitchContent(t.stream.channel) }}) }) } function collectTwitchChannels () { return $('[data-twitch]').map(function () { return $(this).data('twitch') }).get() } function showTwitchContent (t, e, a) { var n = $(e), o = $(a); if (!n.length)n = $('[data-twitch=' + t.name + ']'); if (n.length) { n.show(), n.find('.js-twitch__href').attr('href', t.url), n.find('.js-twitch__title').text(t.status); var i = n.find('iframe'); i.length && i.attr('src', i.attr('data-src') + '&channel=' + n.data('twitch')), o.length && (o.show(), o.find('.js-twitch__href').attr('href', t.url), o.find('.js-twitch__title').text(t.status)), t.name === 'siegeggtv' && (t.status.toLowerCase().indexOf('debrief') >= 0 ? (n.find('.js-twitch__img.debrief-logo').removeClass('d-none'), n.find('.js-twitch__description').removeClass('d-none')) : t.status.toLowerCase().indexOf('talking siege') >= 0 && n.find('.js-twitch__img.talking-siege-logo').removeClass('d-none')) } } function getTimeRemaining (t) { var e = Date.parse(t) - Date.parse(new Date()), a = Math.floor(e / 1e3 % 60), n = Math.floor(e / 1e3 / 60 % 60), o = Math.floor(e / 36e5 % 24); return {total: e, days: Math.floor(e / 864e5), hours: o, minutes: n, seconds: a} } function initializeClock (t, r) { var l = $(t), c = new Date(r); c = c.setMinutes(c.getMinutes() + 40); var h = setInterval(function () { var t = '', e = '', a = '', n = '', o = '', i = '', s = getTimeRemaining(r); s.days > 0 && (e = s.days + 'd &middot; '), s.hours > 0 && (a = s.hours + 'h &middot; '), s.minutes > 0 && (n = s.minutes + 'm &middot; '), s.total > 0 ? (t = 'Going live in &middot; ', i = '', o = s.seconds + 's ', i && (o += '&middot; '), l.html('<span class="countdown__item countdown__prefix">' + t + '</span><span class="countdown__item countdown__day">' + e + '</span><span class="countdown__item countdown__hour">' + a + '</span><span class="countdown__item countdown__minute">' + n + '</span><span class="countdown__item countdown__second">' + o + '</span><span class="countdown__item countdown__suffix">' + i + '</span>')) : Date.now() < c ? l.html('<span class="badge live--badge">Live Now</span>') : Date.now() > c && (clearInterval(h), l.html(''), l.closest('.match--has-countdown').removeClass('match--has-countdown match--live')) }, 1e3) } function updateQueryStringParam (t, e) { var a = [location.protocol, '//', location.host, location.pathname].join(''), n = document.location.search, o = t + '=' + e, i = '?' + o; if (n) { var s = new RegExp('([?&])' + t + '[^&]*'); i = n.match(s) !== null ? n.replace(s, '$1' + o) : n + '&' + o }window.history.replaceState({}, '', a + i) } function getParameterByName (t, e) { e || (e = window.location.href), t = t.replace(/[\[\]]/g, '\\$&'); var a = new RegExp('[?&]' + t + '(=([^&#]*)|&|#|$)').exec(e); return a ? a[2] ? decodeURIComponent(a[2].replace(/\+/g, ' ')) : '' : null } function getYoutubeID (t) { var e = t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/); return !(!e || e[7].length != 11) && e[7] } function getYoutubeParam (t, e) { var a = ''; return getParameterByName(t, e) && (a = t === 't' ? '&start=' + getParameterByName(t, e) : '&' + t + '=' + getParameterByName(t, e)), a }$('.share-link').click(function (t) { return t.preventDefault(), window.open($(this).attr('href'), 'shareWindow', 'height=450, width=870, top=' + ($(window).height() / 2 - 275) + ', left=' + ($(window).width() / 2 - 225) + ', toolbar=0, location=0, menubar=0, directories=0, scrollbars=0'), !1 }), $('.js-chart').length && (Chart.defaults.global.defaultColor = Chart.defaults.global.elements.arc.backgroundColor = Chart.defaults.global.elements.line.backgroundColor = Chart.defaults.global.elements.point.backgroundColor = Chart.defaults.global.elements.rectangle.backgroundColor = 'rgba(0,0,0,0.5)', Chart.defaults.global.defaultFontFamily = "'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"), $(document).on('change', ':file', function () { var t = $(this), e = t.get(0).files ? t.get(0).files.length : 1, a = t.val().replace(/\\/g, '/').replace(/.*\//, ''); t.trigger('fileselect', [e, a]) }), $(window).on('load', function () { resizeMain(), twitchChannelStatus(collectTwitchChannels()) }), $(window).on('resize', function () { resizeMain() }), $(document).ready(function () { $('.js-match-countdown').length && $('.js-match-countdown').each(function () { initializeClock($(this), $(this).data('countdown-time')) }); var t = window.location.hash; if (t && ($('.nav-tabs a[href="' + t + '"]').hasClass('disabled') && $('.nav-tabs a[href="' + t + '"]').parent().hasClass('disabled') || $('.nav-tabs a[href="' + t + '"]').tab('show')), $('a[data-toggle="tab"]').on('show.bs.tab', function (t) { window.location.hash = t.target.hash; var e = $(this).attr('href').replace('#', ''); updateQueryStringParam('tab', e), $('input[type="hidden"][name="tab"]').length && $('input[type="hidden"][name="tab"]').val(e) }), $('.entry__content > p > img').length && $('.entry__content > p > img').closest('p').addClass('content__img'), $('.js-link-to-tab').length && $('.js-link-to-tab').on('click touchend', function (t) { t.preventDefault(); var e = $(t.target).attr('href'); e.length && $('a[href="' + e + '"]').length && $('a[href="' + e + '"][data-toggle="tab"]').tab('show') }), $('.js-select2').length) { var e = $('.js-select2'), a = $(document.body), n = !0, o = 'Select tags, or type to add new ones'; e.closest('.filter__item').length && (a = e.closest('.filter__item'), n = !1, o = 'Select one'), e.select2({containerCssClass: e.attr('class'), tags: n, placeholder: o, dropdownParent: a, createTag: function (t) { return e.attr('id') !== 'post-tags' ? {id: t.term, text: t.term} : {id: tagify(t.term), text: tagify(t.term)} }}) }$('.js-datetime-picker').length && $('.js-datetime-picker').flatpickr({enableTime: !0, altInput: !0, altFormat: 'F j, Y h:i', dateFormat: 'Y-m-d H:i:ss'}), $('.js-daterange-picker').length && $('.js-daterange-picker').flatpickr({mode: 'range', altInput: !0, minDate: '2015-12', dateFormat: 'Y-m-d', altFormat: 'd/m/y'}), window.swalWithBootstrapButtons = swal.mixin({confirmButtonClass: 'btn btn-primary', cancelButtonClass: 'btn btn-secondary ml-2', buttonsStyling: !1}), window.createCookie = function (t, e, a) { var n, o; a ? ((n = new Date()).setTime(n.getTime() + 24 * a * 60 * 60 * 1e3), o = '; expires=' + n.toGMTString()) : o = '', document.cookie = t + '=' + e + o + '; path=/' }, window.disableLocalization = function () { swalWithBootstrapButtons({text: 'If you want to use the English version of SiegeGG click the button below. You will also opt-out for any future experimental localization of SiegeGG.', title: 'Disable Localization?', footer: '<a href="https://siege.gg/news/338-siegegg---s-way-to-support-more-languages">Learn more about SiegeGGâ€™s localization</a>', confirmButtonText: 'Opt-Out and Disable', showCancelButton: !0, cancelButtonText: 'Cancel'}).then(function (t) { t.value && (createCookie('do-not-detect-language', 'do-not', 365), window.location.reload()) }) }, location.pathname == '/matches' || location.pathname == '/' ? ($('#upcoming-tab').hasClass('active') && $('.matches__upcoming .matches__empty').length && $('.nav-tabs a[href="#results"]').tab('show'), window.matchestz = function () { $('.match__meta').each(function (t, e) { var a = $(e).find('.meta__day'), n = $(e).find('.meta__time'), o = a.html(); (o = o.split(' ')).shift(), o = o.join(' '); var i = new Date(a.html() + ' ' + (new Date()).getFullYear() + ' ' + n.html()); if (!isNaN(i.getTime())) { var s = navigator.language || navigator.userLanguage; a.html(i.toLocaleDateString(s, {weekday: 'short', month: 'short', day: 'numeric'})), n.html(i.toLocaleString(s, {hour: 'numeric', minute: 'numeric', hour12: !1, timeZoneName: 'short'})) } }) }, window.matchestz()) : location.pathname.startsWith('/matches/') && $('.meta__datetime').each(function (t, e) { var a = (e = $(e)).html(); (a = a.split(',')).shift(); var n = a.pop(); a.push(' ' + (new Date()).getFullYear()), a.push(n), a = a.join(','); var o = new Date(a); if (!isNaN(o.getTime())) { var i = navigator.language || navigator.userLanguage, s = o.toLocaleDateString(i, {weekday: 'long', month: 'long', day: 'numeric', year: 'numeric'}) + ' ' + o.toLocaleString(i, {hour: '2-digit', minute: 'numeric', hour12: !1, timeZoneName: 'short'}); e.html(s) } }), $('[data-toggle="offcanvas"]').on('click', function (t) { var e = $(this).data('target'); $(e).toggleClass('is-active'), $(e).siblings('.offcanvas-backdrop').toggleClass('is-active'), $('[data-toggle="offcanvas"][data-target="' + e + '"]').children('.fas').toggleClass('fa-sliders-h fa-times') }), $(window).on('click', function (t) { $(t.target).hasClass('offcanvas-backdrop') && ($('.offcanvas').removeClass('is-active'), $('[data-toggle="offcanvas"] .fas').addClass('fa-sliders-h').removeClass('fa-times'), $(t.target).removeClass('is-active')) }) })
